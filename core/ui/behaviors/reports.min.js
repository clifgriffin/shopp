jQuery(document).ready(function(){function t(t){var e=[],o=new Date(t.xaxis.min);o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+1)%7),o.setUTCSeconds(0),o.setUTCMinutes(0),o.setUTCHours(0);var n=o.getTime();do e.push({xaxis:{from:n,to:n+1728e5}}),n+=6048e5;while(n<t.xaxis.max);return e}function e(e){co&&(co.grid.markings=t,"asMoney"==co.yaxis.tickFormatter&&(co.yaxis.tickFormatter=asMoney),"asMoney"==co.xaxis.tickFormatter&&(co.xaxis.tickFormatter=asMoney),e[0]&&e[0].data.length>0&&a.plot(a("#chart"),e,co))}function o(t){a("#map").vectorMap({map:"world_mill_en",series:{regions:[{values:t,scale:["#E9FFBA","#618C03"],normalizeFunction:"polynomial"}]},onRegionLabelShow:function(e,o,n){o.html("<strong>"+asMoney(t[n])+"</strong> "+o.html())},backgroundColor:"transparent",regionStyle:{initial:{fill:"#d2d2d2"}}})}function n(t,e,o){a('<div id="tooltip">'+o+"</div>").css({position:"absolute",display:"none",top:e-40,left:t+10,border:"1px solid #dfdfdf",borderRadius:"3px",boxShadow:"1px 2px 3px #777",padding:"2px",backgroundColor:"#fff",opacity:.9}).appendTo("body").show()}var a=jQuery,i=null;new DateRange("#range","#start","#end"),a("#chart").bind("plothover",function(t,e,o){if(a("#x").text(e.x.toFixed(2)),a("#y").text(e.y.toFixed(2)),o){if(i!=o.datapoint){i=o.datapoint,a("#tooltip").remove();var s=(o.datapoint[0],Math.round(o.datapoint[1]));co.yaxis.tickFormatter==asMoney&&(s=asMoney(o.datapoint[1])),n(o.pageX,o.pageY,"<strong>"+s+"</strong> "+o.series.label)}}else a("#tooltip").remove(),i=null}),a("#chart").length>0&&e(d),a("#map").length>0&&o(d),a("#export-settings-button").click(function(){a("#export-settings-button").hide(),a("#export-settings").removeClass("hidden")}),a("#selectall_columns").change(function(){a(this).attr("checked")?a("#export-columns input").not(this).attr("checked",!0):a("#export-columns input").not(this).attr("checked",!1)}),a("input.current-page").unbind("mouseup.select").bind("mouseup.select",function(){this.select()})});