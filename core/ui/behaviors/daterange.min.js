function DateRange(e,t,a,l){var n=jQuery,s=this,r=(n(s),n(e)),c=n(l),t=n(t).change(s.formatDate),g=n('<div id="start-calendar" class="calendar"></div>').appendTo("#wpwrap").PopupCalendar({scheduling:!1,input:t}).bind("calendarSelect",function(){r.val("custom")}),a=n(a).change(s.formatDate),D=n('<div id="end-calendar" class="calendar"></div>').appendTo("#wpwrap").PopupCalendar({scheduling:!0,input:a,scheduleAfter:g}).bind("calendarSelect",function(){r.val("custom")});s.formatDate=function(e){""==this.value&&(match=!1),this.value.match(/^(\d{6,8})/)?match=this.value.match(/(\d{1,2}?)(\d{1,2})(\d{4,4})$/):this.value.match(/^(\d{1,2}.{1}\d{1,2}.{1}\d{4})/)&&(match=this.value.match(/^(\d{1,2}).{1}(\d{1,2}).{1}(\d{4})/)),match&&(date=new Date(match[3],match[1]-1,match[2]),n(this).val(date.getMonth()+1+"/"+date.getDate()+"/"+date.getFullYear()),r.val("custom"))},r.change(function(){if(c.length>0){if(0==this.selectedIndex)return c.css("display","none"),t.val(""),void a.val("");c.css("display","inline-block")}var e=new Date,l=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(e.getFullYear(),e.getMonth(),e.getDate());switch(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n(this).val()){case"week":l.setDate(e.getDate()-e.getDay()),s=new Date(l.getFullYear(),l.getMonth(),l.getDate()+6);break;case"month":l.setDate(1),s=new Date(l.getFullYear(),l.getMonth()+1,0);break;case"quarter":quarter=Math.floor(e.getMonth()/3),l=new Date(e.getFullYear(),e.getMonth()-e.getMonth()%3,1),s=new Date(e.getFullYear(),l.getMonth()+3,0);break;case"year":l=new Date(e.getFullYear(),0,1),s=new Date(e.getFullYear()+1,0,0);break;case"yesterday":l.setDate(e.getDate()-1),s.setDate(e.getDate()-1);break;case"lastweek":l.setDate(e.getDate()-e.getDay()-7),s.setDate(e.getDate()-e.getDay()+6-7);break;case"last30":l.setDate(e.getDate()-30),s.setDate(e.getDate());break;case"last90":l.setDate(e.getDate()-90),s.setDate(e.getDate());break;case"lastmonth":l=new Date(e.getFullYear(),e.getMonth()-1,1),s=new Date(e.getFullYear(),e.getMonth(),0);break;case"lastquarter":l=new Date(e.getFullYear(),e.getMonth()-e.getMonth()%3-3,1),s=new Date(e.getFullYear(),l.getMonth()+3,0);break;case"lastyear":l=new Date(e.getFullYear()-1,0,1),s=new Date(e.getFullYear(),0,0);break;case"lastexport":l=lastexport,s=e;break;case"custom":return}g.select(l),D.select(s)}).change()}