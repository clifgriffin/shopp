jQuery(document).ready(function(e){e.each(gateways,function(t,n){e.template(n+"-editor",e("#"+n+"-editor"))});var t=!1,n=e("#payment-option-menu"),i=e("#no-payment-settings"),a=function(a){a&&a.preventDefault(),t&&t.cancel(!1),i.hide();var c=e(this),s=c.parents("tr").hide(),r=n.val().toLowerCase(),o=!!c.attr("href")&&c.attr("href").split("&")[1].split("=")[1].toLowerCase().split("-"),l=o?o[0]:r,p=o?o[1]:0,d=(!(o||!$ps[l])&&e.each($ps[l],function(e,t){isNaN(e)||p++}),$ps[l]&&$ps[l][p]?e.extend($ps[l][p],{instance:p}):e.extend($ps[l],{instance:p})),f=e.tmpl(l+"-editor",d),u=f.find("a.cancel");f.find("input.selectall-toggle").change(function(t){var n=e(this),i=n.parents("ul").find("input");i.attr("checked",n.attr("checked"))});0==s.size()&&(s=e("#payment-setting-"+o).hide()),n.get(0).selectedIndex=0,c.cancel=function(e){e&&e.preventDefault(),t=!1,f.remove(),s.fadeIn("fast"),i.size()>0&&i.show()},u.click(c.cancel),s.size()>0?f.insertAfter(s):f.prependTo("#the-list"),e(document).trigger(l+"Settings",[f]),quickSelects(f),t=c};e("#the-list a.edit").click(a),e("#payment-option-menu").change(a),e("#the-list a.delete").click(function(){return!!confirm($ps.confirm)})});